<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Settings</title>
  <link rel="stylesheet" href="Styles/utilities.css" />
  <link rel="stylesheet" href="Styles/sidebar.css" />
  <link rel="stylesheet" href="Styles/main.css" />
  <link rel="stylesheet" href="Styles/general.css" />
  <link rel="stylesheet" href="Styles/forms.css" />
  <link rel="stylesheet" href="Styles/upload-settings.css">
  <link rel="stylesheet" href="Styles/password.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

</head>

<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand"><img src="Logo/CPDO LOGO.png" alt="CPDO" class="brand__logo" /></div>
      <nav class="nav">
        <a class="nav__item" href="dashboard.html"><span class="nav__icon">ğŸ </span><span>Dashboard</span></a>
        <a class="nav__item" href="file.html"><span class="nav__icon">ğŸ“„</span><span>Files</span></a>
        <a class="nav__item" href="accounts.html"><span class="nav__icon">ğŸ‘¤</span><span>Accounts</span></a>
        <a class="nav__item nav__item--active" href="settings.html"><span
            class="nav__icon">âš™ï¸</span><span>Settings</span></a>
      </nav>
      <div class="sidebar__footer">
        <div class="usercard">
          <div class="usercard__name">Loading...</div>
          <div class="usercard__role">Loading...</div>
          <div class="usercard__email">Loading...</div>
          <div class="usercard__status"><span class="badge badge--online"></span><span>Online</span></div>
        </div>
        <a class="btn btn--muted btn--small w-100" href="#">Sign out</a>
      </div>
    </aside>
    <main class="main">
      <header class="header">
        <h1>CPDO ZONING MANAGEMENT SYSTEM SETTINGS</h1>
        <div class="actions">
          <a class="btn" href="#" onclick="history.back(); return false;">â† Back</a>
        </div>
      </header>

      <section class="section">
        <h2 class="section__title">Account Settings</h2>
        <div class="form" id="settingsForm">
          <div class="form__row">
            <div>
              <label class="label">Full Name</label>
              <input class="input" type="text" id="userName" readonly />
            </div>
            <div>
              <label class="label">Designation</label>
              <input class="input" type="text" id="userDesignation" readonly />
            </div>
          </div>
          <div class="form__row">
            <div>
              <label class="label">Section</label>
              <input class="input" type="text" id="userSection" readonly />
            </div>
            <div>
              <label class="label">Role</label>
              <input class="input" type="text" id="userRole" readonly />
            </div>
          </div>
          <div class="spacer"></div>
          <h3 class="section__title" style="margin-top:0;">Update Profile Information</h3>
          <div class="form__row">
            <div>
              <label class="label">Current Username</label>
              <input class="input" type="text" id="currentUsername" readonly />
            </div>
            <div>
              <label class="label">New Username</label>
              <input class="input" type="text" id="newUsername" placeholder="Enter new username" />
            </div>
          </div>
          <div class="form__row">
            <div>
              <label class="label">Current Email</label>
              <input class="input" type="email" id="currentEmail" readonly />
            </div>
            <div>
              <label class="label">New Email</label>
              <input class="input" type="email" id="newEmail" placeholder="Enter new email" />
            </div>
          </div>
          <div class="spacer"></div>
          <h3 class="section__title" style="margin-top:0;">Change Password</h3>

          <!-- Password Section -->
          <div class="form__row">
            <div>
              <label class="label">Current Password</label>
              <div class="password-wrapper">
                <input type="password" id="currentPassword" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <span class="toggle-eye" data-target="currentPassword" aria-label="Show password">ğŸ‘ï¸</span>
              </div>
            </div>

            <div>
              <label class="label">New Password</label>
              <div class="password-wrapper">
                <input type="password" id="newPassword" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                  oninput="checkStrength(this.value)">
                <span class="toggle-eye" data-target="newPassword" aria-label="Show password">ğŸ‘ï¸</span>
              </div>
              <div id="passwordStrength" class="password-strength">
                <div class="strength-bar"></div>
                <span class="strength-text">Enter a password</span>
              </div>
            </div>
          </div>

          <div class="form__row">
            <div style="flex: 1;">
              <label class="label">Confirm New Password</label>
              <div class="password-wrapper">
                <input type="password" id="confirmPassword" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                  oninput="matchPasswords()">
                <span class="toggle-eye" data-target="confirmPassword" aria-label="Show password">ğŸ‘ï¸</span>
              </div>
              <div id="passwordMatch" class="password-match-text"></div>
            </div>
          </div>

          <button class="btn btn--primary" type="button" id="updateSettingsBtn">ğŸ”„ Update Settings</button>
        </div>
      </section>
    </main>
  </div>
</body>
<script src="JS/auth.js"></script>
<script>
  // Protect page - Admin only
  protectPageByRole(['Admin']);
</script>
<script src="JS/settings.js"></script>
<script src="JS/password.js"></script>

</html>